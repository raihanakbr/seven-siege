{% extends 'base.html' %}

{% block content %}
    <h1>{{ appl_name }} Page</h1>

    <h5>Name:</h5>
    <p>{{name}}</p>

    <h5>Class:</h5>
    <p>{{class}}</p>

    <h4>Jumlah Item</h4>
    <p>Kamu menyimpan {{ item_count }} item pada applikasi ini</p>

    <table>
        <tr>
            <th>Name</th>
            <th>Amount</th>
            <th>Price</th>
            <th>Category</th>
            <th>Description</th>
            <th>Date Added</th>
        </tr>
    
        {% comment %} Berikut cara memperlihatkan data produk di bawah baris ini {% endcomment %}
    
        {% for item in items %}
            <tr>
                <td>{{item.name}}</td>
                <td>{{item.amount}}</td>
                <td>{{item.price}}</td>
                <td>{{item.category}}</td>
                <td>{{item.description}}</td>
                <td>{{item.date_added}}</td>
                <td>
                    <form action="{% url 'main:add_amount' item.id %}" method="post">
                        {% csrf_token %}
                        <button type="submit" name="Increment"> + </button>
                    </form>
                </td>
                <td>
                    <form action="{% url 'main:subtract_amount' item.id %}" method="post">
                        {% csrf_token %}
                        <button type="submit" name="Decrement"> - </button>
                    </form>
                </td>
                <td>
                    <form action="{% url 'main:remove_item' item.id %}" method="post">
                        {% csrf_token %}
                        <button type="submit" name="Remove"> X </button>
                    </form>
                </td>
            </tr>
        {% endfor %}
    </table>
    
    <br />
    
    <a href="{% url 'main:create_item' %}">
        <button>
            Add New Item
        </button>
    </a>
    <a href="{% url 'main:logout' %}">
        <button>
            Logout
        </button>
    </a>
    <h5>Sesi terakhir login: {{ last_login }}</h5>    
{% endblock content %}